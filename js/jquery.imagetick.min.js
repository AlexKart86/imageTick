(function($){$.fn.imageTick=function(options){var defaults={tick_image_path:"images/radio.gif",no_tick_image_path:"no_images/radio.gif",image_tick_class:"ticks_"+Math.floor(Math.random()*999999),hide_radios_checkboxes:true,tick_img_id_format:'tick_img_%s',logging:false,img_html:'<img src="%s1" alt="no_tick" class="%s2" id="tick_img_%s3" />',_valid_types:['checkbox','radio']};var opt=$.extend({},defaults,options);function getImagePath(e){var current_img_src=e.src.split('/').pop();var no_tick_path=opt.no_tick_image_path.split('/').pop();return[current_img_src,no_tick_path];}
function handleClickType(type,$input_id){$input_id.trigger("click");if(type=='checkbox'){var img_parts=getImagePath(this);var img_src=(img_parts[0]==img_parts[1])?opt.tick_image_path:opt.no_tick_image_path;}
else{$("."+opt.image_tick_class).attr('src',opt.no_tick_image_path);var img_src=opt.tick_image_path;}
this.src=img_src;}
this.each(function(){var $obj=$(this);var type=$obj[0].type;if($.inArray(type,opt._valid_types)==-1){return;}
var id=$obj[0].id;var $input_id=$('#'+id);var imgHTML=opt.img_html.replace('%s1',opt.no_tick_image_path).replace('%s2',opt.image_tick_class).replace('%s3',id);$obj.before(imgHTML);var $img_id=$('#'+opt.tick_img_id_format.replace('%s',id));if(opt.hide_radios_checkboxes){$obj.css('display','none');}
if($obj[0].checked){$img_id[0].src=opt.tick_image_path;}
$img_id.click(function(e){handleClickType.call(this,type,$input_id);});$("label[for='"+id+"']").click(function(e){e.preventDefault();$img_id.trigger('click');});});};})(jQuery);